# BOSS 直聘数据采集项目

## 项目简介

使用 DrissionPage 实现 BOSS 直聘岗位数据采集，通过 API 拦截技术获取真实薪资数据。

## 功能特点

- ✅ 自动化采集岗位数据
- ✅ 获取真实薪资信息（绕过字体编码）
- ✅ 自动翻页抓取多页数据
- ✅ 数据保存为 CSV 格式
- ✅ 支持自定义搜索关键词和城市

## 技术栈

- Python 3.9+
- DrissionPage - 浏览器自动化
- CSV - 数据存储
- Pandas - 数据分析（可选）
- Pyecharts - 数据可视化（可选）

## 安装依赖

```bash
# 创建虚拟环境
python3 -m venv venv

# 激活虚拟环境
source venv/bin/activate  # macOS/Linux
# 或
venv\Scripts\activate  # Windows

# 安装依赖
pip install DrissionPage
pip install pandas
pip install pyecharts
```

## 使用方法

### 基础使用

```bash
python boss_spider.py
```

### 自定义搜索

修改 `boss_spider.py` 中的参数：

```python
# 搜索关键词
query = 'Python'  # 可改为 Java, 前端, 产品经理 等

# 城市代码
city = '100010000'  # 北京
# 100010000 - 北京
# 101020100 - 上海
# 101280600 - 深圳
# 101210100 - 杭州
# 101280100 - 广州
# 101270100 - 成都

# 抓取页数
max_pages = 10  # 默认 10 页
```

## 输出文件

- `data.csv` - 采集的原始数据

## 数据字段

| 字段 | 说明 | 示例 |
|------|------|------|
| 职位 | 岗位名称 | Python开发工程师 |
| 城市 | 所在城市 | 北京 |
| 区域 | 所在区域 | 朝阳区 |
| 商圈 | 所在商圈 | 望京 |
| 公司 | 公司名称 | 字节跳动 |
| 薪资 | 薪资范围 | 20-40K·14薪 |
| 经验 | 经验要求 | 3-5年 |
| 学历 | 学历要求 | 本科 |
| 领域 | 行业领域 | 互联网 |
| 性质 | 公司性质 | D轮及以上 |
| 规模 | 公司规模 | 10000人以上 |
| 技能标签 | 技能要求 | Python Django MySQL |
| 福利标签 | 福利待遇 | 五险一金 带薪年假 |

## 注意事项

1. **首次运行**
   - 需要手动完成人机验证
   - 建议先登录 BOSS 直聘账号

2. **抓取频率**
   - 建议设置合理的延迟时间
   - 避免频繁请求被封禁

3. **数据使用**
   - 仅供学习和研究使用
   - 请遵守网站服务条款

## 项目结构

```
boss-spider/
├── README.md           # 项目说明
├── requirements.txt    # 依赖列表
├── boss_spider.py      # 主程序
├── data.csv           # 输出数据（运行后生成）
└── venv/              # 虚拟环境（需创建）
```

## 常见问题

### 1. 无法获取数据？

- 检查是否完成人机验证
- 确认已登录 BOSS 直聘
- 检查网络连接

### 2. 薪资显示为编码字符？

- 本项目使用 API 拦截技术，直接获取 JSON 数据
- 不会出现字体编码问题

### 3. 如何修改抓取城市？

参考城市代码表：
- 北京: 100010000
- 上海: 101020100
- 深圳: 101280600
- 杭州: 101210100
- 广州: 101280100
- 成都: 101270100

## 技术原理

### API 拦截

```python
# 监听 API 接口
dp.listen.start('zpgeek/search/joblist.json')

# 等待响应
r = dp.listen.wait()

# 获取 JSON 数据（包含真实薪资）
json_data = r.response.body
```

### 为什么能获取真实薪资？

| 数据来源 | 薪资格式 | 说明 |
|---------|---------|------|
| 页面 DOM | PUA 字符编码 | 无法直接读取 |
| API JSON | 真实数字 | ✅ 本项目使用 |

## 许可证

MIT License

## 作者

- 参考：青灯教育课程
- 改进：添加了更多功能和说明

## 更新日志

### v1.0.0 (2026-01-27)
- 初始版本
- 实现基础数据采集功能
- 支持自动翻页
- 输出 CSV 格式
